#!/usr/bin/env bash
#
# FIX: Rewritten for Debian/Ubuntu/Kali Linux (apt-based systems)
# Original script was for Arch Linux (pacman-based)
#
# This script checks for available updates using apt

# Check if running with appropriate permissions
if ! command -v apt-get &> /dev/null; then
    echo "Error: apt-get not found"
    exit 1
fi

# Update package lists silently
apt-get update &> /dev/null

# Get list of upgradable packages
updates=$(apt list --upgradable 2>/dev/null | grep -v "Listing" | wc -l)

# Output the count
if [ "$updates" -gt 0 ]; then
    echo "$updates"
else
    echo "0"
fi

exit 0
